/* ========================================================================
 * bootstrap-switch - v3.0.0
 * http://www.bootstrap-switch.org
 * ========================================================================
 * Copyright 2012-2013 Mattia Larentis
 *
 * ========================================================================
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 */

(function(){var e=[].slice;(function(t,n){var r;return r=function(){function e(e,n){n==null&&(n={}),this.$element=t(e),this.options=t.extend({},t.fn.bootstrapSwitch.defaults,n,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}),this.$wrapper=t("<div>",{"class":function(e){return function(){var t;return t=[""+e.options.baseClass].concat(e._getClasses(e.options.wrapperClass)),t.push(e.options.state?""+e.options.baseClass+"-on":""+e.options.baseClass+"-off"),e.options.size!=null&&t.push(""+e.options.baseClass+"-"+e.options.size),e.options.animate&&t.push(""+e.options.baseClass+"-animate"),e.options.disabled&&t.push(""+e.options.baseClass+"-disabled"),e.options.readonly&&t.push(""+e.options.baseClass+"-readonly"),e.$element.attr("id")&&t.push(""+e.options.baseClass+"-id-"+e.$element.attr("id")),t.join(" ")}}(this)()}),this.$container=t("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=t("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=t("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=t("<label>",{"for":this.$element.attr("id"),html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(e,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(t){return function(){return t.options.onSwitchChange.apply(e,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.$on).before(this.$label).before(this.$off).trigger("init.bootstrapSwitch"),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler()}return e.prototype.name="bootstrap-switch",e.prototype._constructor=e,e.prototype.state=function(e,t){return typeof e=="undefined"?this.options.state:this.options.disabled||this.options.readonly?this.$element:(e=!!e,this.$element.prop("checked",e).trigger("change.bootstrapSwitch",t),this.$element)},e.prototype.toggleState=function(e){return this.options.disabled||this.options.readonly?this.$element:this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)},e.prototype.size=function(e){return typeof e=="undefined"?this.options.size:(this.options.size!=null&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),e&&this.$wrapper.addClass(""+this.options.baseClass+"-"+e),this.options.size=e,this.$element)},e.prototype.animate=function(e){return typeof e=="undefined"?this.options.animate:(e=!!e,this.$wrapper[e?"addClass":"removeClass"](""+this.options.baseClass+"-animate"),this.options.animate=e,this.$element)},e.prototype.disabled=function(e){return typeof e=="undefined"?this.options.disabled:(e=!!e,this.$wrapper[e?"addClass":"removeClass"](""+this.options.baseClass+"-disabled"),this.$element.prop("disabled",e),this.options.disabled=e,this.$element)},e.prototype.toggleDisabled=function(){return this.$element.prop("disabled",!this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.options.disabled=!this.options.disabled,this.$element},e.prototype.readonly=function(e){return typeof e=="undefined"?this.options.readonly:(e=!!e,this.$wrapper[e?"addClass":"removeClass"](""+this.options.baseClass+"-readonly"),this.$element.prop("readonly",e),this.options.readonly=e,this.$element)},e.prototype.toggleReadonly=function(){return this.$element.prop("readonly",!this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.options.readonly=!this.options.readonly,this.$element},e.prototype.onColor=function(e){var t;return t=this.options.onColor,typeof e=="undefined"?t:(t!=null&&this.$on.removeClass(""+this.options.baseClass+"-"+t),this.$on.addClass(""+this.options.baseClass+"-"+e),this.options.onColor=e,this.$element)},e.prototype.offColor=function(e){var t;return t=this.options.offColor,typeof e=="undefined"?t:(t!=null&&this.$off.removeClass(""+this.options.baseClass+"-"+t),this.$off.addClass(""+this.options.baseClass+"-"+e),this.options.offColor=e,this.$element)},e.prototype.onText=function(e){return typeof e=="undefined"?this.options.onText:(this.$on.html(e),this.options.onText=e,this.$element)},e.prototype.offText=function(e){return typeof e=="undefined"?this.options.offText:(this.$off.html(e),this.options.offText=e,this.$element)},e.prototype.labelText=function(e){return typeof e=="undefined"?this.options.labelText:(this.$label.html(e),this.options.labelText=e,this.$element)},e.prototype.baseClass=function(e){return this.options.baseClass},e.prototype.wrapperClass=function(e){return typeof e=="undefined"?this.options.wrapperClass:(e||(e=t.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)},e.prototype.destroy=function(){var e;return e=this.$element.closest("form"),e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},e.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(e){return function(n,r){var i;n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),i=e.$element.is(":checked");if(i===e.options.state)return;e.options.state=i,e.$wrapper.removeClass(i?""+e.options.baseClass+"-off":""+e.options.baseClass+"-on").addClass(i?""+e.options.baseClass+"-on":""+e.options.baseClass+"-off");if(!r)return e.$element.is(":radio")&&t("[name='"+e.$element.attr("name")+"']").not(e.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),e.$element.trigger("switchChange.bootstrapSwitch",[i])}}(this),"focus.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.$wrapper.addClass(""+e.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.$wrapper.removeClass(""+e.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(e){return function(t){if(!t.which||e.options.disabled||e.options.readonly)return;switch(t.which){case 32:return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.toggleState();case 37:return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.state(!1);case 39:return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.state(!0)}}}(this)})},e.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(e){return function(t){return e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(e){return function(t){return e.state(!0),e.$element.trigger("focus.bootstrapSwitch")}}(this))},e.prototype._labelHandlers=function(){return this.$label.on({"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){return function(t){var n,r,i;if(!e.drag)return;return t.preventDefault(),r=((t.pageX||t.originalEvent.touches[0].pageX)-e.$wrapper.offset().left)/e.$wrapper.width()*100,n=25,i=75,r<n?r=n:r>i&&(r=i),e.$container.css("margin-left",""+(r-i)+"%"),e.$element.trigger("focus.bootstrapSwitch")}}(this),"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){return function(t){if(e.drag||e.options.disabled||e.options.readonly)return;return t.preventDefault(),e.drag=!0,e.options.animate&&e.$wrapper.removeClass(""+e.options.baseClass+"-animate"),e.$element.trigger("focus.bootstrapSwitch")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){return function(t){if(!e.drag)return;t.preventDefault(),e.drag=!1,e.$element.prop("checked",parseInt(e.$container.css("margin-left"),10)>-(e.$container.width()/6)).trigger("change.bootstrapSwitch"),e.$container.css("margin-left","");if(e.options.animate)return e.$wrapper.addClass(""+e.options.baseClass+"-animate")}}(this),"mouseleave.bootstrapSwitch":function(e){return function(t){return e.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},e.prototype._formHandler=function(){var e;e=this.$element.closest("form");if(e.data("bootstrap-switch"))return;return e.on("reset.bootstrapSwitch",function(){return n.setTimeout(function(){return e.find("input").filter(function(){return t(this).data("bootstrap-switch")}).each(function(){return t(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},e.prototype._getClasses=function(e){var n,r,i,s;if(!t.isArray(e))return[""+this.options.baseClass+"-"+e];r=[];for(i=0,s=e.length;i<s;i++)n=e[i],r.push(""+this.options.baseClass+"-"+n);return r},e}(),t.fn.bootstrapSwitch=function(){var n,i,s;return i=arguments[0],n=2<=arguments.length?e.call(arguments,1):[],s=this,this.each(function(){var e,o;e=t(this),o=e.data("bootstrap-switch"),o||e.data("bootstrap-switch",o=new r(this,i));if(typeof i=="string")return s=o[i].apply(o,n)}),s},t.fn.bootstrapSwitch.Constructor=r,t.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}).call(this);